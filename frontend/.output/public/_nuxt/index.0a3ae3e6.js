import{j as K,k as T,r as O,l as V,m as J,p as N,w as q,u as m,q as G,s as X,v as $,x as E,y as Y,e as P,f,z as B,A as v,B as R,C as U,D as F,E as j,F as L,G as H,t as C,o as z}from"./entry.cccce286.js";const Q=()=>null;function Z(...n){const a=typeof n[n.length-1]=="string"?n.pop():void 0;typeof n[0]!="string"&&n.unshift(a);let[s,e,t={}]=n;if(typeof s!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof e!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");t.server=t.server??!0,t.default=t.default??Q,t.lazy=t.lazy??!1,t.immediate=t.immediate??!0;const r=T(),h=()=>r.isHydrating?r.payload.data[s]:r.static.data[s],y=()=>h()!==void 0;r._asyncData[s]||(r._asyncData[s]={data:O(h()??t.default()),pending:O(!y()),error:V(r.payload._errors,s)});const c={...r._asyncData[s]};c.refresh=c.execute=(o={})=>{if(r._asyncDataPromises[s]){if(o.dedupe===!1)return r._asyncDataPromises[s];r._asyncDataPromises[s].cancelled=!0}if((o._initial||r.isHydrating&&o._initial!==!1)&&y())return h();c.pending.value=!0;const l=new Promise((i,u)=>{try{i(e(r))}catch(_){u(_)}}).then(i=>{if(l.cancelled)return r._asyncDataPromises[s];let u=i;t.transform&&(u=t.transform(i)),t.pick&&(u=et(u,t.pick)),c.data.value=u,c.error.value=null}).catch(i=>{if(l.cancelled)return r._asyncDataPromises[s];c.error.value=i,c.data.value=m(t.default())}).finally(()=>{l.cancelled||(c.pending.value=!1,r.payload.data[s]=c.data.value,c.error.value&&(r.payload._errors[s]=G(c.error.value)),delete r._asyncDataPromises[s])});return r._asyncDataPromises[s]=l,r._asyncDataPromises[s]};const w=()=>c.refresh({_initial:!0}),p=t.server!==!1&&r.payload.serverRendered;{const o=X();if(o&&!o._nuxtOnBeforeMountCbs){o._nuxtOnBeforeMountCbs=[];const i=o._nuxtOnBeforeMountCbs;o&&(J(()=>{i.forEach(u=>{u()}),i.splice(0,i.length)}),N(()=>i.splice(0,i.length)))}p&&r.isHydrating&&y()?c.pending.value=!1:o&&(r.payload.serverRendered&&r.isHydrating||t.lazy)&&t.immediate?o._nuxtOnBeforeMountCbs.push(w):t.immediate&&w(),t.watch&&q(t.watch,()=>c.refresh());const l=r.hook("app:data:refresh",i=>{if(!i||i.includes(s))return c.refresh()});o&&N(l)}const k=Promise.resolve(r._asyncDataPromises[s]).then(()=>c);return Object.assign(k,c),k}async function tt(n){await new Promise(s=>K(s));const a=n?Array.isArray(n)?n:[n]:void 0;await T().hooks.callHookParallel("app:data:refresh",a)}function et(n,a){const s={};for(const e of a)s[e]=n[e];return s}const rt={ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1};function st(n,a={}){a={...rt,...a};const s=I(a);return s.dispatch(n),s.toString()}function I(n){const a=[];let s=[];const e=t=>{a.push(t)};return{toString(){return a.join("")},getContext(){return s},dispatch(t){return n.replacer&&(t=n.replacer(t)),this["_"+(t===null?"null":typeof t)](t)},_object(t){if(t&&typeof t.toJSON=="function")return this._object(t.toJSON());const r=/\[object (.*)]/i,h=Object.prototype.toString.call(t),y=r.exec(h),c=y?y[1].toLowerCase():"unknown:["+h.toLowerCase()+"]";let w=null;if((w=s.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+w+"]");if(s.push(t),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(t))return e("buffer:"),e(t.toString("utf8"));if(c!=="object"&&c!=="function"&&c!=="asyncfunction")this["_"+c]?this["_"+c](t):n.ignoreUnknown||this._unkown(t,c);else{let p=Object.keys(t);n.unorderedObjects&&(p=p.sort()),n.respectType!==!1&&!M(t)&&p.splice(0,0,"prototype","__proto__","letructor"),n.excludeKeys&&(p=p.filter(function(k){return!n.excludeKeys(k)})),e("object:"+p.length+":");for(const k of p)this.dispatch(k),e(":"),n.excludeValues||this.dispatch(t[k]),e(",")}},_array(t,r){if(r=typeof r<"u"?r:n.unorderedArrays!==!1,e("array:"+t.length+":"),!r||t.length<=1){for(const c of t)this.dispatch(c);return}const h=[],y=t.map(c=>{const w=I(n);return w.dispatch(c),h.push(w.getContext()),w.toString()});return s=[...s,...h],y.sort(),this._array(y,!1)},_date(t){return e("date:"+t.toJSON())},_symbol(t){return e("symbol:"+t.toString())},_unkown(t,r){if(e(r),!!t&&(e(":"),t&&typeof t.entries=="function"))return this._array(Array.from(t.entries()),!0)},_error(t){return e("error:"+t.toString())},_boolean(t){return e("bool:"+t.toString())},_string(t){e("string:"+t.length+":"),e(t.toString())},_function(t){e("fn:"),M(t)?this.dispatch("[native]"):this.dispatch(t.toString()),n.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),n.respectFunctionProperties&&this._object(t)},_number(t){return e("number:"+t.toString())},_xml(t){return e("xml:"+t.toString())},_null(){return e("Null")},_undefined(){return e("Undefined")},_regexp(t){return e("regex:"+t.toString())},_uint8array(t){return e("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray(t){return e("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array(t){return e("int8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array(t){return e("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array(t){return e("int16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array(t){return e("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array(t){return e("int32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array(t){return e("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array(t){return e("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer(t){return e("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url(t){return e("url:"+t.toString())},_map(t){e("map:");const r=[...t];return this._array(r,n.unorderedSets!==!1)},_set(t){e("set:");const r=[...t];return this._array(r,n.unorderedSets!==!1)},_file(t){return e("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},_blob(){if(n.ignoreUnknown)return e("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow(){return e("domwindow")},_bigint(t){return e("bigint:"+t.toString())},_process(){return e("process")},_timer(){return e("timer")},_pipe(){return e("pipe")},_tcp(){return e("tcp")},_udp(){return e("udp")},_tty(){return e("tty")},_statwatcher(){return e("statwatcher")},_securecontext(){return e("securecontext")},_connection(){return e("connection")},_zlib(){return e("zlib")},_context(){return e("context")},_nodescript(){return e("nodescript")},_httpparser(){return e("httpparser")},_dataview(){return e("dataview")},_signal(){return e("signal")},_fsevent(){return e("fsevent")},_tlswrap(){return e("tlswrap")}}}function M(n){return typeof n!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code]\s+}$/i.exec(Function.prototype.toString.call(n))!=null}class A{constructor(a,s){a=this.words=a||[],this.sigBytes=s!==void 0?s:a.length*4}toString(a){return(a||nt).stringify(this)}concat(a){if(this.clamp(),this.sigBytes%4)for(let s=0;s<a.sigBytes;s++){const e=a.words[s>>>2]>>>24-s%4*8&255;this.words[this.sigBytes+s>>>2]|=e<<24-(this.sigBytes+s)%4*8}else for(let s=0;s<a.sigBytes;s+=4)this.words[this.sigBytes+s>>>2]=a.words[s>>>2];return this.sigBytes+=a.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new A([...this.words])}}const nt={stringify(n){const a=[];for(let s=0;s<n.sigBytes;s++){const e=n.words[s>>>2]>>>24-s%4*8&255;a.push((e>>>4).toString(16),(e&15).toString(16))}return a.join("")}},at={stringify(n){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=[];for(let e=0;e<n.sigBytes;e+=3){const t=n.words[e>>>2]>>>24-e%4*8&255,r=n.words[e+1>>>2]>>>24-(e+1)%4*8&255,h=n.words[e+2>>>2]>>>24-(e+2)%4*8&255,y=t<<16|r<<8|h;for(let c=0;c<4&&e*8+c*6<n.sigBytes*8;c++)s.push(a.charAt(y>>>6*(3-c)&63))}return s.join("")}},it={parse(n){const a=n.length,s=[];for(let e=0;e<a;e++)s[e>>>2]|=(n.charCodeAt(e)&255)<<24-e%4*8;return new A(s,a)}},ot={parse(n){return it.parse(unescape(encodeURIComponent(n)))}};class lt{constructor(){this._minBufferSize=0,this.blockSize=512/32,this.reset()}reset(){this._data=new A,this._nDataBytes=0}_append(a){typeof a=="string"&&(a=ot.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes}_doProcessBlock(a,s){}_process(a){let s,e=this._data.sigBytes/(this.blockSize*4);a?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const t=e*this.blockSize,r=Math.min(t*4,this._data.sigBytes);if(t){for(let h=0;h<t;h+=this.blockSize)this._doProcessBlock(this._data.words,h);s=this._data.words.splice(0,t),this._data.sigBytes-=r}return new A(s,r)}}class ct extends lt{update(a){return this._append(a),this._process(),this}finalize(a){a&&this._append(a)}}const ut=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ft=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],S=[];class dt extends ct{constructor(){super(),this.reset()}reset(){super.reset(),this._hash=new A([...ut])}_doProcessBlock(a,s){const e=this._hash.words;let t=e[0],r=e[1],h=e[2],y=e[3],c=e[4],w=e[5],p=e[6],k=e[7];for(let o=0;o<64;o++){if(o<16)S[o]=a[s+o]|0;else{const D=S[o-15],x=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,b=S[o-2],W=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;S[o]=x+S[o-7]+W+S[o-16]}const l=c&w^~c&p,i=t&r^t&h^r&h,u=(t<<30|t>>>2)^(t<<19|t>>>13)^(t<<10|t>>>22),_=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),d=k+_+l+ft[o]+S[o],g=u+i;k=p,p=w,w=c,c=y+d|0,y=h,h=r,r=t,t=d+g|0}e[0]=e[0]+t|0,e[1]=e[1]+r|0,e[2]=e[2]+h|0,e[3]=e[3]+y|0,e[4]=e[4]+c|0,e[5]=e[5]+w|0,e[6]=e[6]+p|0,e[7]=e[7]+k|0}finalize(a){super.finalize(a);const s=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(s/4294967296),this._data.words[(e+64>>>9<<4)+15]=s,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function ht(n){return new dt().finalize(n).toString(at)}function pt(n,a={}){const s=typeof n=="string"?n:st(n,a);return ht(s).slice(0,10)}function _t(n,a,s){const[e={},t]=typeof a=="string"?[{},a]:[a,s],r=e.key||pt([t,m(e.baseURL),typeof n=="string"?n:"",m(e.params||e.query)]);if(!r||typeof r!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+r);if(!n)throw new Error("[nuxt] [useFetch] request is missing.");const h=r===t?"$f"+r:r,y=$(()=>{let x=n;return typeof x=="function"&&(x=x()),m(x)});if(!e.baseURL&&typeof y.value=="string"&&y.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:c,lazy:w,default:p,transform:k,pick:o,watch:l,immediate:i,...u}=e,_=E({...u,cache:typeof e.cache=="boolean"?void 0:e.cache}),d={server:c,lazy:w,default:p,transform:k,pick:o,immediate:i,watch:l===!1?[]:[_,y,...l||[]]};let g;return Z(h,()=>{var b;return(b=g==null?void 0:g.abort)==null||b.call(g),g=typeof AbortController<"u"?new AbortController:{},typeof y.value=="string"&&y.value.startsWith("/"),(e.$fetch||globalThis.$fetch)(y.value,{signal:g.signal,..._})},d)}const yt={id:"refresh"},gt=["disabled"],mt=f("h2",null,"Table of nicks",-1),wt=["onClick"],kt=["onClick"],vt=["onClick"],bt=["onClick"],Bt=["onClick"],Ct=["onClick"],xt=["onClick"],St=["onClick"],Dt={style:{color:"#777"}},At=f("br",null,null,-1),Pt={style:{color:"#777"}},zt=f("br",null,null,-1),jt={__name:"index",async setup(n){let a,s;const e=O(""),t=O(""),r=E({nick_up:!1,nick_down:!1,addr_up:!1,addr_down:!1,age_up:!1,age_down:!1,create_up:!1,create_down:!1}),{data:h}=([a,s]=Y(()=>_t("http://localhost:54321/status","$PslAyef5YX")),a=await a,s(),a),y=$(()=>{let o=h.value;for(let l=0;l<o.length;l++)o[l].addresses=o[l].addresses.sort((i,u)=>{const _=Number(i.split(".").map(g=>`000${g}`.slice(-3)).join("")),d=Number(u.split(".").map(g=>`000${g}`.slice(-3)).join(""));return _-d});return r.nick_down?o.sort((l,i)=>{let u=l.nick.toLowerCase(),_=i.nick.toLowerCase();return u.localeCompare(_,void 0,{numeric:!0,sensitivity:"base"})}):r.nick_up?o.sort((l,i)=>{let u=l.nick.toLowerCase();return i.nick.toLowerCase().localeCompare(u,void 0,{numeric:!0,sensitivity:"base"})}):r.addr_down?o.sort((l,i)=>{let u="";for(let d=0;d<l.addresses.length;d++)u+=l.addresses[d].split(".").map(g=>`000${g}`.slice(-3)).join("");let _="";for(let d=0;d<i.addresses.length;d++)_+=i.addresses[d].split(".").map(g=>`000${g}`.slice(-3)).join("");return u<_?-1:u>_?1:0}):r.addr_up?o.sort((l,i)=>{let u="";for(let d=0;d<l.addresses.length;d++)u+=l.addresses[d].split(".").map(g=>`000${g}`.slice(-3)).join("");let _="";for(let d=0;d<i.addresses.length;d++)_+=i.addresses[d].split(".").map(g=>`000${g}`.slice(-3)).join("");return u<_?1:u>_?-1:0}):r.age_down?o.sort((l,i)=>i.atime_stamp-l.atime_stamp):r.age_up?o.sort((l,i)=>l.atime_stamp-i.atime_stamp):r.create_down?o.sort((l,i)=>i.ctime_stamp-l.ctime_stamp):r.create_up?o.sort((l,i)=>l.ctime_stamp-i.ctime_stamp):o}),c=O(!1),w=async()=>{c.value=!0;try{await tt()}finally{c.value=!1}};setInterval(w,7777);function p(o){for(let l in r)l==o.target.id?r[l]=!0:r[l]=!1}function k(o){var l,i,u;l=parseInt(o/24/60/60),o%=24*60*60,i=parseInt(o/60/60),o%=60*60,u=parseInt(o/60),o%=60;var _="",d=!0,g=!0;return l&&(_+=l+" days",g=!1,d=!1),i&&(_+=" "+i+" hours",d=!1),u&&g&&(_+=" "+u+" minutes"),d&&(_+=" "+o+" seconds"),_}return(o,l)=>(z(),P("div",null,[f("div",yt,[f("button",{disabled:m(c),onClick:w},"Refetch",8,gt)]),mt,f("table",null,[f("thead",null,[f("th",null,[f("a",{href:"#",id:"nick_down",class:B([m(r),{active:m(r).nick_down}]),onClick:v(p,["prevent"])}," 🠛 ",10,wt),f("a",{href:"#",id:"nick_up",class:B([m(r),{active:m(r).nick_up}]),onClick:v(p,["prevent"])}," 🠙 ",10,kt),f("a",{href:"#",onClick:l[0]||(l[0]=v((...i)=>o.sort_switch&&o.sort_switch(...i),["prevent"]))},"Nick "),R(f("input",{"onUpdate:modelValue":l[1]||(l[1]=i=>F(e)?e.value=i:null),type:"text",placeholder:"filter"},null,512),[[U,m(e)]])]),f("th",null,[f("a",{href:"#",id:"addr_down",class:B({active:m(r).addr_down}),onClick:v(p,["prevent"])}," 🠛 ",10,vt),f("a",{href:"#",id:"addr_up",class:B({active:m(r).addr_up}),onClick:v(p,["prevent"])}," 🠙 ",10,bt),f("a",{href:"#",onClick:l[2]||(l[2]=v((...i)=>o.sort_switch&&o.sort_switch(...i),["prevent"]))},"Addreses "),R(f("input",{"onUpdate:modelValue":l[3]||(l[3]=i=>F(t)?t.value=i:null),type:"text",placeholder:"filter"},null,512),[[U,m(t)]])]),f("th",null,[f("a",{href:"#",id:"age_down",class:B({active:m(r).age_down}),onClick:v(p,["prevent"])}," 🠛 ",10,Bt),f("a",{href:"#",id:"age_up",class:B({active:m(r).age_up}),onClick:v(p,["prevent"])}," 🠙 ",10,Ct),f("a",{href:"#",onClick:l[4]||(l[4]=v((...i)=>o.sort_switch&&o.sort_switch(...i),["prevent"]))},"Age")]),f("th",null,[f("a",{href:"#",id:"create_down",class:B({active:m(r).create_down}),onClick:v(p,["prevent"])}," 🠛 ",10,xt),f("a",{href:"#",id:"create_up",class:B({active:m(r).create_up}),onClick:v(p,["prevent"])}," 🠙 ",10,St),j(" Create ")])]),(z(!0),P(L,null,H(m(y),i=>(z(),P("tr",{key:i.nick},[f("td",null,C(i.nick),1),f("td",null,[f("ul",null,[(z(!0),P(L,null,H(i.addresses,u=>(z(),P("li",{key:u},C(u),1))),128))])]),f("td",null,[f("span",Dt,C(i.atime),1),At,j(" "+C(k(i.atime_diff)),1)]),f("td",null,[f("span",Pt,C(i.ctime),1),zt,j(" "+C(k(i.ctime_diff)),1)])]))),128))]),j(" N: "+C(m(e))+" A: "+C(m(t)),1)]))}};export{jt as default};
